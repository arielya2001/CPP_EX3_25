# 🃏 CPP_EX3_25 – משחק "Coup"

## 🎯 מטרת הפרויקט
הפרויקט מממש את משחק הלוח Coup בסביבת ++C תוך שימוש בירושה, פולימורפיזם, חריגות, תורים, ו־SFML לממשק גרפי.

המשחק כולל:
- מנגנון תורות
- 6 דמויות שונות עם יכולות ייחודיות
- מערכת חסימות והתנגשויות בין שחקנים
- תמיכה בממשק שורת פקודה (CLI) ובממשק גרפי (GUI)
- בדיקות יחידה עם doctest

---

## 📁 מבנה תיקיות

```
CPP_EX3_25/
│
├── gui/                    # קבצי הממשק הגרפי
│   ├── ActionButton.hpp
│   ├── ActionLog.cpp/hpp
│   ├── GameRenderer.cpp/hpp
│   ├── GuiScreens.cpp/hpp
│   └── main_gui.cpp
│
├── resources/              # קבצים נוספים (למשל תיעוד או קבצים עתידיים)
│   ├── Baron.cpp/hpp
│   ├── CMakeLists.txt
│   └── doctest.h
│
├── Game.cpp/hpp            # מחלקת Game – לוח המשחק, תורים, חסימות
├── Player.cpp/hpp          # מחלקת בסיס לשחקן, כוללת פעולות כלליות
├── Governor.cpp/hpp        # מחלקת נציב – מטיל מסים וחוסם מס
├── Spy.cpp/hpp             # מחלקת מרגל – חושף מידע וחוסם מעצרים
├── Baron.cpp/hpp           # מחלקת ברון – השקעה ופיצוי על סנקציה
├── General.cpp/hpp         # מחלקת גנרל – חוסם הפיכות ומחזיר מעצר
├── Judge.cpp/hpp           # מחלקת שופט – חוסם שוחד וקונס מעניש
├── Merchant.cpp/hpp        # מחלקת סוחר – בונוס תחילת תור וחוקי מעצר מיוחדים
│
├── main.cpp                # דמו למשחק – הפעלת משחקי הדגמה
├── Demo.cpp                # דמו נוסף עם משחק מובנה
├── tests.cpp               # בדיקות יחידה (doctest)
│
├── Makefile                # פקודות בנייה, הפעלה, בדיקה וניקוי
└── README.md               # הקובץ הזה
```

---

## 🧠 הסבר על כל קובץ בקצרה

| קובץ                        | תיאור |
|-----------------------------|--------|
| `Game.hpp/cpp`             | ניהול מצב המשחק, תורות, חסימות, והפניות בין שחקנים |
| `Player.hpp/cpp`           | מחלקת בסיס לכל הדמויות. כוללת את הלוגיקה הכללית (gather, tax, arrest, וכו') |
| `Governor.hpp/cpp`         | דמות "נציב" – מטיל מס מוגדל וחוסם tax של שחקנים אחרים |
| `Spy.hpp/cpp`              | דמות "מרגל" – יכול להציץ על שחקנים ולחסום arrest |
| `Baron.hpp/cpp`            | דמות "ברון" – השקעה, הגנה חלקית מסנקציות |
| `General.hpp/cpp`          | דמות "גנרל" – חוסם הפיכה, מקבל החזר על arrest |
| `Judge.hpp/cpp`            | דמות "שופט" – חוסם שוחד ומעניש על סנקציות |
| `Merchant.hpp/cpp`         | דמות "סוחר" – מקבל בונוס בתחילת תור ונענש שונה על arrest |
| `main.cpp`                 | קובץ דמו למשחק – משמש להרצה בסיסית ולבדיקת המשחק |
| `Demo.cpp`                 | תסריט משחק נוסף (אפשר לשנות לפי הצורך) |
| `tests.cpp`                | קובץ הבדיקות שמוודא שהלוגיקות עובדות כראוי |
| `Makefile`                 | קובץ ההרצה – מאפשר לקמפל, לבדוק, להריץ גרפית, לבדוק זיכרון, ולנקות |
| `doctest.h`                | ספריית בדיקות חיצונית מסוג header-only |
| `gui/*`                    | רכיבי GUI – תצוגת המשחק, כפתורים, יומני פעולה, ומסך פתיחה |
| `resources/`               | קבצי עזר/השלמה (כגון קבצים עתידיים או מקוריים) |

---

## ⚙️ הפקודות החשובות ב־Makefile

| פקודה              | תיאור |
|---------------------|--------|
| `make`              | קומפילציה רגילה (כולל Demo.cpp) |
| `make run`          | מריץ את המשחק במצב שורת פקודה |
| `make run-gui`      | מריץ את המשחק בממשק גרפי (SFML) |
| `make test`         | מריץ את כל הבדיקות באמצעות doctest |
| `make run-test`     | מריץ את בדיקות היחידה |
| `make valgrind-test`| בודק זליגות זיכרון בטסטים |
| `make valgrind-main`| בודק זיכרון על main |
| `make clean`        | מוחק קבצי ביניים ותוצרים |

---

## 📌 הערות חשובות

- **לא לבצע פעולות עם יותר מדי מטבעות מבלי לעשות coup!**
- **חסימות אינן "בזמן אמת" – אלא בתור הבא של השחקן**
- **השימוש ב־bonus_turn מאפשר תורות כפולים (למשל לאחר bribe)**

---

בהצלחה בשימוש, ואם מישהו חוסם אותך – תקרא לשופט 😄